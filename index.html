<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Logical Expression Visualizer</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript" src="keyboard.js"></script>
    <script src="Brython-3.7.1/brython.js"></script>
    <script src="https://yandex.st/jquery/2.1.1/jquery.min.js"></script>
    </head>
<body onload="brython()">
     <script type="text/python">
from browser import 
act, ls, el, att, acts, tlst, sk = [], [], [], [], {}, [], []

lst1 = 

lst = ''

for i in lst1:
    lst = lst + i

l = list('('+lst+')')

lst = list(lst)

while '(' in l:

    left = 0
    right = 0

    while l[right] != ')': 

        right += 1

    left = right

    while l[left] != '(':

        left -= 1

    tlst = [left-1, right-1]

    sk.append(left-1)
    sk.append(right-1)

    for j in range(left,right+1):

        if l[j] == '*':

            tlst.append(j-1)
            el.append(j-1)
            
    for j in range(left,right+1):

        if l[j] == '+':
            tlst.append(j-1)
            el.append(j-1)

        l[j] = ' '
        


    if l[left-1] == '!':

        tlst.append(left-2)
        el.append(left-2)

        l[left-1] = ' '

    act.append(tlst)


g = -1

for i in el:

    g += 1
    
    acts[i] = []

    if lst[i] == '!':

        if (lst[i+1] == '(') and (lst[i+3] == ')'):
            acts[i].append(i+2)
            att.append(i+2)

        else:

            acts[i].append(el[g-1])

    else:

        if (i-1 not in att):
            
            acts[i].append(i-1)
            att.append(i-1)
            
            k = 1
            while k < len(sk) and sk[k] != i-1:
                k += 2
            if k < len(sk):
                att.append(sk[k-1])
                   
        else:
            acts[i].append(-2)


        if (i+1 not in att) and (lst[i+1] != '!'):

            acts[i].append(i+1)
            att.append(i+1)
            k = 0
            while k < len(sk) and sk[k] != i+1:
                k += 2
            if k < len(sk):
                att.append(sk[k+1])
   
        elif (lst[i+1] == '!') and (i+2 not in att) :

            acts[i].append(i+2)
            att.append(i+2)
            k = 0
            while k < len(sk) and sk[k] != i+2:
                k += 2
            if k < len(sk):
                att.append(sk[k+1])

        else:
            acts[i].append(-2)

for i in acts:

    if acts[i][0] in sk:

        k = 0
        while act[k][1] != acts[i][0]:
            k += 1
        acts[i][0] = act[k][-1]


    if (len(acts[i]) > 1) and (acts[i][1] in sk):

        k = 0
        while act[k][0] != acts[i][1]:
            k += 1
        acts[i][1] = act[k][-1]

    if acts[i][0] == -2 and acts[i][1] == -2:
        k = 0
        while i not in act[k]: 
            k += 1
        h = 0
        while act[k][h] != i:
            h += 1
        acts[i][0] = act[k][h-2]
        acts[i][1] = act[k][h-1]

    elif acts[i][0] == -2:
        
        k = 0
        while i not in act[k]: 
            k += 1
        h = 0
        while act[k][h] != i:
            h += 1
        acts[i][0] = act[k][h-1]

    elif (len(acts[i]) > 1) and acts[i][1] == -2:
        
        k = 0
        while i not in act[k]: 
            k += 1
        h = 0
        while act[k][h] != i:
            h += 1
        acts[i][1] = act[k][h-1]
            
print(acts)
     </script>
<div class="footer">&#169 Стариков Д. П., Ободков И. Б., 2019</div> 
<div id="container">
    <textarea id="textarea" class="form-control" rows="6" cols="60" maxlength="30"></textarea>
    <ul id="keyboard">
        <big><big><big><li class="symbol"><span class="off">A</span>
        <li class="symbol"><span class="off">B</span>
        <li class="symbol"><span class="off">C</span>
        <li class="symbol"><span class="off">D</span>
        <li class="symbol"><span class="off">E</span>
        <li class="symbol"><span class="off">F</span>
        <li class="symbol"><span class="off">G</span>
        <li class="symbol"><span class="off">H</span>
        <li class="symbol"><span class="off">I</span>
        <li class="symbol"><span class="off">J</span>
        <li class="symbol"><span class="off">K</span>
        <li class="symbol"><span class="off">L</span>
        <li class="symbol"><span class="off">M</span>
        <li class="symbol"><span class="off">N</span></li>
        <li class="symbol"><span class="off">O</span></li>
        <li class="symbol"><span class="off">P</span></li>
        <li class="symbol"><span class="off">Q</span>
        <li class="symbol"><span class="off">R</span>
        <li class="symbol"><span class="off">S</span>
        <li class="symbol"><span class="off">T</span>
        <li class="symbol"><span class="off">U</span>
        <li class="symbol"><span class="off">V</span>
        <li class="symbol"><span class="off">W</span>
        <li class="symbol"><span class="off">X</span>
        <li class="symbol"><span class="off">Y</span>
        <li class="symbol"><span class="off">Z</span>
        <li class="symbol"><span class="off">∧</span>
        <li class="symbol"><span class="off">∨</span>
        <li class="symbol"><span class="off">→</span>
        <li class="symbol"><span class="off">↔</span>
        <li class="symbol"><span class="off">⊕</span>
        <li class="symbol"><span class="off">↓</span>
        <li class="symbol"><span class="off">¬</span>
        <li class="symbol"><span class="off">(</span>
        <li class="symbol"><span class="off">)</span>
        <li class="symbol"><span class="off"></span>
        <li class="symbol"><span class="off"></span>
        <li class="symbol"><span class="off"></span>
        <li class="symbol"><span class="off"></span>
        <li class="inputer"><button id="btn" class="btn btn-sm btn-default"><big><big><big>ВВОД</big></big></big></button>       
        <li class="delete">УДАЛИТЬ</li></big></big></big>
        
    </ul>
</div>
    
<script>
    $('#btn').click(function(){
	var variable = $("#textarea");
});
</script>
</body>
</html>